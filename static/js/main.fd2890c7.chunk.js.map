{"version":3,"sources":["App.js","index.js","images/edit.svg","images/save.svg","images/flip.svg"],"names":["FlipContainer","styled","div","withConfig","displayName","componentId","_ref","flipped","css","_ref2","isAdding","Front","Back","AddCard","button","CardIcon","_ref3","url","concat","Flip","CardSavedText","span","CardTextArea","textarea","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","cards","isEditing","sideEditing","hasFlipped","flipCard","indexToFlip","_this$state","updatedCard","objectSpread","newState","toConsumableArray","slice","setState","addCard","front","length","back","cardId","setTimeout","toggleEditCard","e","idx","side","stopPropagation","textArea","current","focus","renderCardContent","cardText","sideToRender","_this$state2","react_default","a","createElement","onClick","preventFlip","onChange","updateCardText","value","ref","_this$state3","defineProperty","target","renderBackSide","card","save","edit","flipIcon","renderFrontSide","_this$state4","React","createRef","defaultCards","_this2","_this$state5","className","map","key","Component","ReactDOM","render","src_App_0","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.fd2890c7.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport styled, { css } from 'styled-components'\nimport './App.scss'\nimport edit from './images/edit.svg'\nimport save from './images/save.svg'\nimport flipIcon from './images/flip.svg'\nimport defaultCards from './mocks/data.json'\n\nconst FlipContainer = styled.div`\n  width: 230px;\n  height: 230px;\n  perspective: 1000px;\n  margin: 20px;\n  display: inline-block;\n  &:hover {\n    cursor: pointer;\n  }\n  .flipper {\n    transition: 0.6s;\n    transform-style: preserve-3d;\n    position: relative;\n    height: 100%;\n    ${({ flipped }) =>\n      flipped &&\n      css`\n        transform: rotateY(180deg);\n      `}\n    ${({ isAdding }) =>\n      isAdding &&\n      css`\n        transition: 0s;\n      `}\n  }\n`\n\nconst Front = styled.div`\n  z-index: 2;\n  transform: rotateY(0deg);\n  backface-visibility: hidden;\n  position: absolute;\n  top: 0;\n  border: 1px solid #ccc;\n  border-radius: 2px;\n  box-shadow: 0 0.4rem 1.2rem 0.2rem rgba(0, 0, 0, 0.05);\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-top: 3px solid #747a7e;\n  width: 230px;\n  height: 230px;\n`\nconst Back = styled(Front)`\n  background: rgba(250, 250, 250, 1);\n  transform: rotateY(180deg);\n  border: 1px solid #ccc;\n`\n\nconst AddCard = styled.button`\n  color: #fff;\n  background-color: #5cb85c;\n  border: 1px solid #4cae4c;\n  height: 50px;\n  width: 230px;\n  position: absolute;\n  left: calc(50% - 115px);\n  top: 25px;\n  outline: none;\n  cursor: pointer;\n  transition: 0.25s;\n  border-radius: 4px;\n  &:hover {\n    background-color: #47a447;\n    border-color: #398439;\n    transition: 0.25s;\n  }\n`\n\nconst CardIcon = styled.div`\n  background-image: ${({ url }) => (url ? `url('${url}')` : 'none')};\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  background-repeat: no-repeat;\n  bottom: 10px;\n  right: 10px;\n  border: none;\n  z-index: 100;\n  transition: 0.3s;\n  background-size: 20px;\n  &:hover {\n    filter: brightness(50%);\n  }\n`\nconst Flip = styled(CardIcon)`\n  font-size: 10px;\n  color: #707070;\n  width: 100px;\n  display: flex;\n  align-items: center;\n  background-position: 100% 100%;\n  right: 40px;\n  padding-left: 20px;\n  font-style: italic;\n  &:hover {\n    color: black;\n  }\n`\n\nconst CardSavedText = styled.span`\n  max-width: 227px;\n  word-wrap: break-word;\n  overflow: auto;\n  max-height: 160px;\n  padding: 0px 20px;\n`\n\nconst CardTextArea = styled.textarea`\n  text-align: center;\n  outline: none;\n  border: transparent;\n  height: 224px;\n  padding: 103px 20px 0 20px;\n  width: 230px;\n`\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.textArea = React.createRef()\n  }\n  state = {\n    cards: [],\n    isAdding: false,\n    isEditing: null,\n    sideEditing: null,\n    hasFlipped: false\n  }\n\n  componentDidMount() {\n    this.setState({\n      cards: defaultCards\n    })\n  }\n\n  flipCard = indexToFlip => {\n    const { cards, isEditing } = this.state\n    if (isEditing) {\n      return\n    }\n    const updatedCard = {\n      ...cards[indexToFlip],\n      flipped: !cards[indexToFlip].flipped\n    }\n    const newState = [\n      ...cards.slice(0, indexToFlip),\n      updatedCard,\n      ...cards.slice(indexToFlip + 1)\n    ]\n    this.setState({\n      cards: newState,\n      hasFlipped: true\n    })\n  }\n\n  addCard = () => {\n    const { cards } = this.state\n    const newCard = {\n      front: `card #${cards.length + 1} front`,\n      back: `card #${cards.length + 1} back`,\n      flipped: false,\n      cardId: cards.length\n    }\n\n    const newState = [newCard, ...cards.slice(0)]\n    this.setState(\n      {\n        cards: newState,\n        isAdding: true,\n        isEditing: null\n      },\n      () => {\n        // FIXME - when new elements are added to the DOM, we have to temporarily\n        // set transition: 0s, to avoid some weird behavior\n        setTimeout(() => {\n          this.setState({\n            isAdding: false\n          })\n        }, 10)\n      }\n    )\n  }\n\n  toggleEditCard = (e, idx, side) => {\n    e.stopPropagation()\n    const { isEditing } = this.state\n    if (isEditing === idx) {\n      return this.setState({\n        isEditing: null,\n        sideEditing: null\n      })\n    }\n    this.setState(\n      {\n        isEditing: idx,\n        sideEditing: side\n      },\n      () => {\n        this.textArea.current.focus()\n      }\n    )\n  }\n\n  renderCardContent = (cardText, idx, sideToRender) => {\n    const { isEditing, sideEditing } = this.state\n    if (isEditing === idx) {\n      return (\n        <CardTextArea\n          onClick={this.preventFlip}\n          onChange={e => this.updateCardText(e, idx, sideEditing)}\n          value={cardText}\n          ref={sideToRender === sideEditing ? this.textArea : null}\n        />\n      )\n    }\n    return <CardSavedText>{cardText}</CardSavedText>\n  }\n\n  preventFlip = (e, idx) => {\n    e.stopPropagation()\n  }\n\n  updateCardText = (e, idx) => {\n    const { cards, sideEditing } = this.state\n    const updatedCard = {\n      ...cards[idx],\n      [sideEditing]: e.target.value\n    }\n    const newState = [\n      ...cards.slice(0, idx),\n      updatedCard,\n      ...cards.slice(idx + 1)\n    ]\n    this.setState({\n      cards: newState\n    })\n  }\n\n  renderBackSide = (card, idx) => {\n    const { isEditing } = this.state\n    return (\n      <Back onClick={() => this.flipCard(idx)}>\n        {this.renderCardContent(card.back, idx, 'back')}\n        <CardIcon\n          onClick={e => this.toggleEditCard(e, idx, 'back')}\n          url={isEditing === idx ? save : edit}\n        />\n        <Flip url={flipIcon} onClick={() => this.flipCard(idx)} />\n      </Back>\n    )\n  }\n\n  renderFrontSide = (card, idx) => {\n    const { isEditing, hasFlipped } = this.state\n    return (\n      <Front onClick={() => this.flipCard(idx)}>\n        {this.renderCardContent(card.front, idx, 'front')}\n        <CardIcon\n          onClick={e => this.toggleEditCard(e, idx, 'front')}\n          url={isEditing === idx ? save : edit}\n        />\n        <Flip url={flipIcon} onClick={() => this.flipCard(idx)}>\n          {!hasFlipped ? 'Click to flip' : ''}\n        </Flip>\n      </Front>\n    )\n  }\n\n  render() {\n    const { cards, isAdding } = this.state\n\n    return (\n      <div className='app'>\n        <AddCard onClick={this.addCard}>Add Card</AddCard>\n        {cards.map((card, idx) => {\n          return (\n            <FlipContainer flipped={card.flipped} isAdding={isAdding} key={idx}>\n              <div className='flipper'>\n                {this.renderFrontSide(card, idx)}\n                {this.renderBackSide(card, idx)}\n              </div>\n            </FlipContainer>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/edit.1a8b5557.svg\";","module.exports = __webpack_public_path__ + \"static/media/save.977a81b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/flip.ab350bb8.svg\";"],"sourceRoot":""}